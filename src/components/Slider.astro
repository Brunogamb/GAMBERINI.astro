---
import { Image } from 'astro:assets';
import wilo from '../assets/marcas/Wilo.webp';
import grundfos from '../assets/marcas/Grundfos.webp';
import dab from '../assets/marcas/DAB.webp';
import motorarg from '../assets/marcas/Motorarg.webp';
import genebre from '../assets/marcas/GENEBRE.webp';
import pedrollo from '../assets/marcas/Pedrollo.webp';
import rotorpump from '../assets/marcas/RotorPump.webp';
---

<div class="slider">
    <div class="slide-track">
        <a class="slide" href="https://wilo.com/ar/es/" target="_blank" rel="noopener noreferrer"><Image src={wilo} alt="Logo 1" loading="lazy" /></a>
        <a class="slide" href="https://www.grundfos.com/ar/" target="_blank" rel="noopener noreferrer"><Image src={grundfos} alt="Logo 2" loading="lazy" /></a>
        <a class="slide" href="https://www.dabpumps.com/" target="_blank" rel="noopener noreferrer"><Image src={dab} alt="Logo 3" loading="lazy" /></a>
        <a class="slide" href="https://www.motorarg.com.ar/" target="_blank" rel="noopener noreferrer"><Image src={motorarg} alt="Logo 4" loading="lazy" /></a>
        <a class="slide" href="https://www.genebre.com.ar/" target="_blank" rel="noopener noreferrer"><Image src={genebre} alt="Logo 5" loading="lazy" /></a>
        <a class="slide" href="https://www.pedrollo.com/es/" target="_blank" rel="noopener noreferrer"><Image src={pedrollo} alt="Logo 6" loading="lazy" /></a>
        <a class="slide" href="https://rotorpump.com/" target="_blank" rel="noopener noreferrer"><Image src={rotorpump} alt="Logo 7" loading="lazy" /></a>
        
        <a class="slide" href="https://wilo.com/ar/es/" target="_blank" rel="noopener noreferrer"><Image src={wilo} alt="Logo 1" loading="lazy" /></a>
        <a class="slide" href="https://www.grundfos.com/ar/" target="_blank" rel="noopener noreferrer"><Image src={grundfos} alt="Logo 2" loading="lazy" /></a>
        <a class="slide" href="https://www.dabpumps.com/" target="_blank" rel="noopener noreferrer"><Image src={dab} alt="Logo 3" loading="lazy" /></a>
        <a class="slide" href="https://www.motorarg.com.ar/" target="_blank" rel="noopener noreferrer"><Image src={motorarg} alt="Logo 4" loading="lazy" /></a>
        <a class="slide" href="https://www.genebre.com.ar/" target="_blank" rel="noopener noreferrer"><Image src={genebre} alt="Logo 5" loading="lazy" /></a>
        <a class="slide" href="https://www.pedrollo.com/es/" target="_blank" rel="noopener noreferrer"><Image src={pedrollo} alt="Logo 6" loading="lazy" /></a>
        <a class="slide" href="https://rotorpump.com/" target="_blank" rel="noopener noreferrer"><Image src={rotorpump} alt="Logo 7" loading="lazy" /></a>

        <a class="slide" href="https://wilo.com/ar/es/" target="_blank" rel="noopener noreferrer"><Image src={wilo} alt="Logo 1" loading="lazy" /></a>
        <a class="slide" href="https://www.grundfos.com/ar/" target="_blank" rel="noopener noreferrer"><Image src={grundfos} alt="Logo 2" loading="lazy" /></a>
    </div>
</div>

<style>
.slider {
    width: 100%;
    padding: 50px 0;
    overflow: hidden;
    background: var(--white);
    position: relative;
}

.slider .slide-track {
    display: flex;
    animation: scroll 30s linear infinite;
    gap: 60px;
    height: 60px;
}

.slide {
    display: flex;
    align-items: center;
}

.slide img {
    max-width: 200px;
    height: auto;
    transition: 0.2s ease;
    opacity: 0.7;
}

.slide-track img:hover {
    transform: scale(1.08);
    opacity: 1;
}

@keyframes scroll{
    0% {
        transform: translateX(0);
    }
    100% {
        transform: translateX(-1592px);
    }
}

.slider::before,
.slider::after {
	content: "";
	position: absolute;
	top: 0;
	width: 120px;
	height: 100%;
	z-index: 2;
	pointer-events: none;
}

.slider::before {
	left: 0;
	background: linear-gradient(
		to right,
		var(--white) 0%,
		transparent 100%
	);
}

.slider::after {
	right: 0;
	background: linear-gradient(
		to left,
		var(--white) 0%,
		transparent 100%
	);
}
</style>

<script type="module">
const track = document.querySelector('.slide-track');
const slides = document.querySelectorAll('.slider img');

let leaveTimeout; 

slides.forEach(img => {
    img.addEventListener('mouseenter', () => {
        clearTimeout(leaveTimeout);
        track.style.animationPlayState = 'paused';
    });

    img.addEventListener('mouseleave', () => {
        leaveTimeout = setTimeout(() => {
            track.style.animationPlayState = 'running';
        }, 100);
    });
});
</script>